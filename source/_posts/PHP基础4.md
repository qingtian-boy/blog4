---
title: PHP基础4
date: 2019-02-20 16:59:58
tags: PHP
---
# 一、昨日回顾

## 1. 知识回顾

1. 能够运用赋值运算符

   =、+=、-=、×=、/=、%=

2. 能够运用算术运算符

   +、-、*、/、%

3. 能够运用比较运算符
<!-- more -->
   ==、\=\==、!=或<>、!\=\=、>、>=、<、<=

4. 能够运用逻辑运算符

   and或&&、or或||、xor、!

5. 能够运用三元运算符

   条件 ？ 条件为true时执行的语句 : 条件为false时执行的语句;

6. 能够运用自操作运算符

   ++$x、$x++、--$x、$x--

7. 能够理解运算符的优先级问题

   我们可以使用强制改变运算符的优先级的方式来改变运算符的优先级，改变的方法是：使用小括号，来直接改变运算符的优先级即可。

8. 能够列举流程控制的三大基本结构

   三大基本结构：1)顺序结构；2）分支结构；3）循环结构；

   顺序结构：指的是从上往下逐行去执行php的代码；

   分支结构：1)  if...elseif....else    2) switch  （break和continue的作用是一样的，都是中断整个switch分支的继续执行）

   循环结构：1) for   2) while 3) do...while

9. 能够运用if和switch语句

   ```php
   switch(变量){
   	case 值1:
   		结构体1;
   	case 值2:
   		结构体2;
   	case 值n:
   		结构体n;
   	default:
   		default结构体;
   }
   ```

   

10. 能够运用3大循环结构

    ```
    for(表达式1; 表达式2; 表达式3){
        
        循环结构体
    }
    ```

    



## 2. 昨日反馈

![1538061974385](1)



# 二、知识路径

- 文件包含

  ​	文件包含的作用

  ​	文件包含的四种方式

  ​	四种方式的特点

  ​	加载路径的问题

  ​	文件的嵌套包含

  ==目标：能够懂得文件引入四种方式的区别，并且使用文件包含的四种方式引入文件==

- 数组进阶

  ​	数组分类

  ​	多维数组

  ​	数组的遍历

  ​	数组相关函数

  ​	for循环遍历数组

  ​	while+list+each遍历数组

  ​	数组的排序

  ==目标：能够使用foreach实现数组的遍历，能够使用数组函数操作数组==

# 三、今日课程内容：PHP基础

## 1. 文件包含

如果一个程序页面的代码量非常大，那么，都写在一个页面中显然是不明智的！在PHP中，我们可以通过文件包含来将代码程序从横向（物理行数）上将其有效的分割开，方便管理和维护。



### 文件包含的四种方式

1）include；2）include_once；3）require；4）require_once；



### 四种方式的特点

四种方式包括：

> ==include==：引入文件，如果引入文件时存在错误，程序不会中断，而会继续执行，并报一个警告错误；
>
> ==include_once==：与include相同，但是include_once会检查被引入的文件之前是否已经引入，如果引进引入则不会再次引入；
>
> ==require==：引入文件，如果引入文件时存在错误，则程序中断执行，并显示致命错误；
>
> ==require_once==：与require相同，但是require_once会检查被引入的文件之前是否已经引入，如果引进引入则不会再次引入；



**==注意==**：上面四句话中所指的==引入文件时存在错误==，特指==引入了一个不存在的文件==时，而并不是指引入的那个文件中存在错误！



**==演示案例1==**：include和require的区别（与include_once和require_once的区别相同）

include引入一个不存在的文件的效果：

![1538098582581](2)

require引入一个不存在的文件的效果：

![1538098698192](3)



**==演示案例2==**：include和include_once的区别（与require和require_once的区别相同）

include引入重复的文这个文件里的变量是常量才会

![1538099448755](4)

include_once引入重复的文件：

![1538099541966](5)



**==小结==**：

1）include系列和require系列的区别是：include系列当引入一个不存在的文件时，将会报一个轻量级别的警告错误，不会中止程序的继续执行；而require系列当引入一个不存在的文件时，将会直接报致命的错误，并且中止程序继续往下执行；

2）不带once系列和带once系列的区别是：不带once的不会检查当前引入的文件之前是已经引入过；带once系列的将会检查当前引入的文件之前是否已经引入过，如果引入过，则本次不再重复引入，没有引入过，则本次才引入；



### 加载路径的问题

TIPS：程序中加载路径分为两种，1）相对路径；2）绝对路径；



#### 相对路径

当前目录："==./=="表示当前目录。

上级目录："==../=="表示当前目录的上一级目录。



TIPS：使用相对路径时需要弄明白一个问题：相对路径到底是相对于哪一个目录！ 



**==演示案例1==**：使用相对路径引入程序文件。

![1538101513558](7)



**==演示案例2==**：测试相对路径的稳定性问题。

在code目录下有一个名为t的目录，并且在t目录下有两个程序文件，内容分别如下：

t.php

![1538101541624](8)

t1.php

![1538101565192](9)



1）测试在t1.php中引入t.php的效果：

![1538101754931](10)



2）测试在code目录下的code4.php引入t1.php的效果：

![1538102295989](11)



**==小结==**：在上面的测试2)中，之所以$t没有输出，是因为相对路径==永远相对的是当前被访问的程序所在的目录而言的==。而当前被访问的程序文件是code4.php，所以./代表code4.php所在的目录code，那么在t1.php引入t.php的方式：include "./t.php"; 相当于引入code目录下的名为t.php的文件，这个文件时不存在的，所以引入t.php的操作是不成功的，最终导致$t无法输出。



##### 拓展：HTML中使用相对路径问题

TIPS：在html中使用相对路径，最上级只能到网站的根目录。

![1538103629374](12)



**==小结==**：

1. 在html中，相对路径相对的是当前所写在的程序文件而言的；
2. 浏览器加载文件的方式要么使用ip，要么使用域名，其中域名用的最多，注意绝对不能使用盘符的绝对路径去加载文件；
3. 在html中相对路径的../最多只能去到网站的根目录；



#### 绝对路径

TIPS：绝对路径就是从盘符开始指定到目录或文件的全路径地址。 



**==演示案例1==**：测试使用绝对路径引入程序文件。

![1538105388121](13)



**==小结==**：绝对路径指的就是从盘符开始指定到目录或文件的全路径地址。



### 文件的嵌套包含

TIPS：在程序中可以使用引入文件的方式实现文件的嵌套包含。



**==演示案例1==**：在PHP程序中将代码进行物理分割。

![1538105776811](14)



**==演示案例2==**：在html代码中进行代码的物理分割。

code12.php  保存了html的公共头部

![1538106084083](16)

以后要使用公共的头部，可以通过引入文件的方式直接引入即可，如下面code10.php引入了公共code12.php中的头部，

![1538106065472](15)



**==小结==**：无论是在php中还是在html中，我们都可以使用文件引入的方式来实现嵌套包含。



## 2. 数组进阶

### 数组分类

按==下标的类型==来划分：

1）==索引==数组（数组的下标为整型）；2）==关联==数组（数组的下标为字符串）；



按==维度==来划分：

1）一维数组；2）多维数组；



### 多维数组

#### 二维数组

概念：每一个元素的值都是一个一维数组。 



**==演示案例==**：定义二维数组，并且访问二维数组中的元素值。

![1538106817702](17)



![1538107033408](18)



### 数组的遍历

概念：PHP中，提供了一种方式，能够让我们==逐个的==去==获得==数组中的==每一个元素==，这种方式就是数组的遍历。

遍历的方法：使用foreach结构进行遍历。



foreach语法结构：

```php
foreach(目标数组 as [保存下标的变量=>]保存值的变量){
    遍历循环结构体
}
```



**==演示案例==**：遍历数组array('name'=>'司马光', 'age'=>12, 'accident'=>'司马光砸缸') 

![1538118157051](19)



#### 数组遍历的基本原理

TIPS：

> 1） 数组其实是程序在内存中开辟的一段==连续的==内存空间；
>
> 2） 当遍历数组的时候，每次之所以能够获得一个元素，是因为存在一个类似于箭头
>
> ​       这样的==元素指针==，指向的那个位置就是我们需要在遍历中获得的那个数组元素。



==原理图==：

![1538118665270](20)



#### foreach遍历的线性流程

流程图：

![1538100644621](6)



**==细节1==**：赋值给$key这一步操作可以省略。

![1538119645759](21)



**==细节2==**：$key和$value变量可以命名为任意符合变量命名规则的名字。 

![1538119719450](22)



**==细节3==**：证明在遍历的过程中所操作到的数组是原数组的拷贝，而不是原数组。 

![1538120455956](23)



**==小结==**：

1. 我们可以使用foreach结构来遍历数组；
2. 遍历数组其实就是逐个的去获得数组中的每一个元素；



#### 数组（遍历）的值传递和引用传递

TIPS：数组在遍历的过程中也能够实现值传递和引用传递。



**值传递**

![1538121586776](24)



**引用传递**

![1538121851583](25)



**==小结==**：数组（遍历）的引用传递只需要在foreach结构的$value前面加上&符号即可。



### 数组相关函数

涉及的函数：

> 1）排序函数
>
> ​	 ==sort==(), asort(), rsort(), arsort(), ksort(), krsort(), ==shuffle==()
>
> 2）元素指针函数
>
> ​	 ==current==(), ==key==(), ==next==(), ==end==(), prev(), ==reset==(), ==each==()
>
> 3）其他函数
>
> ​	 ==count==(), array_push(), array_pop(), ==in_array==(), 
>
> ​	 ==array_keys==(), ==array_values==(), ==list==()，==array_merge==(), ==range==()



以下排序函数操作均使用如下数组数组：

```php
$arr = [0=>12, 1=>6, 'age'=>8, 5=>21, 6=>4];
```



#### sort和asort

![1538122531449](26)



#### rsort和arsort

![1538122684497](27)



#### ksort和krsort

![1538123039537](28)

**==注意==**：如果不是以整型数值开头的字符串，做类型转换为整型的话，都将会被转换为整型0值。



#### shuffle

![1538123204868](29)



#### current，key，next， end，prev，reset

code25.php：

```php
<?php

$arr = ['name'=>'王罡', 'age'=>7, 'weight'=>180];

//current和key函数
$key = key($arr);//获得当前元素指针位置上元素的键
$value = current($arr);//获得当前元素指针位置上元素的值

echo '$key：' . $key . '<br/>'; 
echo '$value：' . $value . '<hr/>'; 

next($arr);//将元素指针往下移动一位

$key = key($arr);
$value = current($arr);

echo '$key：' . $key . '<br/>'; 
echo '$value：' . $value . '<hr/>'; 

end($arr);//将数组元素指针直接定位到最后一个元素上

$key = key($arr);
$value = current($arr);

echo '$key：' . $key . '<br/>'; 
echo '$value：' . $value . '<hr/>'; 

next($arr);//将元素指针往下移动一位

$key = key($arr);
$value = current($arr);

echo '$key：'; var_dump( $key ); echo '<br/>'; 
echo '$value：'; var_dump( $value ); echo '<hr/>'; 

end($arr);
prev($arr);//将元素指针往前移动一位，如果数组元素的指针移出了数组的有效空间，再执行prev将会无效

$key = key($arr);
$value = current($arr);

echo '$key：'; var_dump( $key ); echo '<br/>'; 
echo '$value：'; var_dump( $value ); echo '<hr/>'; 

reset($arr);//将会把数组元素的指针进行初始化，初始化之后元素的指针固定会去到第一个元素的位置上

$key = key($arr);
$value = current($arr);

echo '$key：'; var_dump( $key ); echo '<br/>'; 
echo '$value：'; var_dump( $value ); echo '<hr/>'; 
```

访问之后的效果：

![1538125015857](30)



#### each

![1538125536099](31)



#### count

![1538125682429](32)



#### array_push和array_pop

![1538125951641](33)



#### in_array

![1538126127011](34)



#### array_keys和array_values

![1538126287458](35)



#### list，array_merge和range

list结构：

![1538126863479](36)

array_merge函数：

![1538127042121](37)



range函数

![1538127227280](38)





### for循环遍历数组

TIPS：我们还可以在程序中使用for循环来实现对数组的遍历。



**==演示案例==**：遍历array('name'=>'袁崇焕', 'age'=>16, 'accident'=>'松锦大战')

![1538127498363](39)



### while循环遍历数组

**==演示案例==**：遍历数组array('name'=>'老子', 'age'=>17, 'book'=>'道德经')

![1538127986058](40)



### 数组的排序

数组排序的算法种类非常多，我们将介绍两种：1）冒泡排序；2）选择排序；



#### 冒泡排序实现升序

冒泡排序的思路：先从第一个数开始，每次将相邻的两个数进行比较，如果发现前值比后值大，则互换位置，否则维持原位置不变。 



**==演示案例==**：将数组array(16, 4, 12, 9, 21, 18)的元素值进行排序

手动推导过程：





程序实现：





#### 选择排序实现升序

选择排序的思路：

第一轮循环，假设第一号位上的数是最小的，然后跟第二个数进行比较，一直比到最后，找出最小的数，然后把最小值与第一号位上的值互换；

再进行下一轮循环，找出最小值与第二号位的值互换；以后的循环都重复这种操作，一直到排序完成。



**==演示案例==**：将数组array(16, 4, 12, 9, 21, 18)的元素值进行排序

手动推导过程：





程序实现：将数组array(16, 4, 12, 9, 21, 18)的元素值进行排序





## 3. 全天总结

1. 能够理解文件包含（文件载入）的含义和作用

   就是将某个指定的文件的代码内容引入到当前的文件中来。

2. 能够解释4种不同载入方式的区别

   1) include    2) include_once   3) require     4) require_once

   区别：

   a） include系列和require系列的区别： include系列如果引入了一个不存在的文件，则将会报一个轻量级别的警告错误，不会中断程序的继续执行；require系列如果引入了一个不存在的文件，则将会报一个致命的错误，并且中断程序继续往下执行；

   b） 带once和不带once的区别：带once的会检查当前引入的文件是否已经引入过，如果已经引入过，则本次不再重复引入，只有没被引入过才会引入；不带once的不会去检查文件是否已经被引入过。

3. 能够理解文件载入时的路径设置

   相对路径和绝对路径

   相对路径：==./==和==../==在php程序文件中，相对路径相对的是当前被访问的那个文件而言的

   绝对路径：就是从盘符开始一直到某个文件为止的全路径

4. 能够解释常用的6个转义字符

   单引号中输出单引号；

   双引号中输出双引号；

   双引号中输出$符号；

   双引号中输出回车符(\r)换行符(\n)；

   双引号中输出制表符(\t);

5. 能够理解数组的基本概念

   数据即键值对的集合；

6. 能够对数组元素进行基本操作

   增：$arr[新的下标] = 新的值;

   改：下标不变值改变；
   删：unset删除

   查：print_r或var_dump

7. 理解二维数组的概念

   数组里的每一个元素的值又都是一个一维数组。

8. 能够使用foreach遍历数组

   ```php
   foreach(目标数组 as [保存下标的变量=>]保存值的变量){
       
       遍历循环结构体
   }
   ```

   

9. 能够使用for循环遍历任意数组

10. 能够使用while循环遍历数组







