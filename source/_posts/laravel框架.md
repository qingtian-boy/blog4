---
title: laravel框架01
date: 2019-02-28 19:08:15
tags: laravel
---
#                               目录

[TOC]

## 一、昨日回顾

### 1、知识回顾

页面静态

​	分几种？ 2种，分别分为：真静态、伪静态

ob 缓存

​	ob_start();	#开启ob缓存

​	ob_get_conetns();	#获取ob缓存里面的内容

​	ob_clean();	# 清空ob缓存里面内容

​	ob_end_clean();	# 清空ob缓存里面的内容，并关闭ob缓存

​	ob_get_clean();	# 先获取ob缓存的内容，并清空ob缓存里面的内容

​	ob_flush();	# 强制将ob缓存的内容转到程序缓存

​	ob_end_flush();	#强制将ob缓存的内容转到程序缓存，并关闭ob缓存
<!-- more -->
生成真静态的流程

​	1、先开启 ob 缓存，使用 ob_start();

​	2、输出的内容

​	3、获取 ob 缓存内容

​	4、保存文件，后缀为： .html

​	注意：先判断静态是否存在，如果直接读取缓存文件，否则生成缓存文件；为缓存文件设置一个过期时间，后台为用户添加一键生缓存文件按钮，在操作系统中设置定时器(在系统后台)，直接修改缓存文件


## 二、Laravel-概述

​	Laravel是Taylor Otwell开发的一款基于PHP语言的Web开源框架，采用了MVC的架构模式，在2011年6月正式发布了首个版本。

​	Laravel是一套简洁、优雅的PHP Web开发框架(PHP Web Framework)。它可以让你从面条一样杂乱无章的代码中解脱出来；通过简单、高雅、表达式语法开发出优秀、完美的Web应用。Laravel更拥有高质量的文档、丰富的扩展包，被称为"巨匠级PHP开发框架"。

​	Laravel是当前所有的"全栈式"框架中最流行的，也是世界上使用范围最广，人数最多的一个框架。

官网：https://laravel.com

中文：

https://laravel-china.org

http://laravelacademy.org

## 三、Laravel-部分核心功能

- 工匠指令		artisan
- (模型)Eloquent ORM
- 应用逻辑(Application Logic)
- 反向路由(Reverse Routing)
- Restful控制器(Restful Controllers)
- 自动加载类(Class Auto-loading)
- 视图组装器(View Composers)
- 反向控制器(loC container)
- 迁移(Migrations)
- 单元测试(Unit-Testing)
- 自动分页(Automatic Pagination)

## 四、Laravel-版本

- **LTS版本**
  - 长期支持版本，英文Long Term Support的缩写，此类版本是Laravel能提供的最长时间维护版本。2年的Bug修复，3年的安全更新支持。

- **一般发行版**
  - 只提供6个月的Bug修复支持，1年的安全修复支持。

版本发行时间(这里只讲Laravel 5)

- **5.1	LTS	2015年06月份**


​	LTS 版，Bug修复直到2017年06月份，安全修复直到2018年06月份

- **5.2	2015年12月份**


​	一般发行版，提供6个月的Bug修复支持，1年的安全修复支持

- **5.3	2016年08月份**


​	一般发行版本，提供6个月的Bug修复支持，1年的安全修复支持

- **5.4	2017年01月份**


​	一般发行版本，提供6个月的Bug修复支持，1年的安全修复支持

- **5.5	LTS	2017年08月份**


​	LTS版，会从这里开始停止Laravel5.1的Bug修复，安全修复直到2018年08月份

- **5.6	2018年02月份**

		一般发行版本，提供6个月的Bug修复支持，1年的安全修复支持

- **5.7 2018年08月份**

		一般发行版本，提供6个月的Bug修复支持，1年的安全修复支持

## 五、安装

### 1、开发环境

```
操作系统：	windows10 64位
WAMP环境：	  Apache+PHP7.2+Mysql(phpStudy集成环境)
开发工具：	Sublime/phpstorm
```

### 2、Laravel框架环境要求

> 满足以上需求之后，就可以开始安装 Laravel了
> 1.PHP >= 5.6.4
> 2.PHP OpenSSL 扩展
>
> ![1545961633690](1545961633690.png)
>
> 3.PHP PDO 扩展
>
> ![1545961673490](1545961673490.png)
>
> 4.PHP Mbstring 扩展
>
> ![1545961738471](1545961738471.png)
>
> 5.PHP Tokenizer 扩展
> 6.PHP XML 扩展
> 7.PHP Ctype 扩展(Laravel5.6)
> 8.PHP JSON 扩展(Laravel5.6)

> 注意：
> 	Laravel5.1~Laravel5.2对PHP版本要求： PHP >=  5.5.9(建议使用 5.6.4)
> 	Laravel5.3~Laravel5.4对PHP版本要求： PHP >=  5.6.4(建议大家直接使用 7.2)
> ​	Laravel5.5对PHP版本要求： PHP >=  7.0.0(建议大家直接使用 7.2)
> ​	Laravel5.6对PHP版本要求： PHP >=  7.1.3(建议大家直接使用 7.2)

### 3、设置环境变量

#### (1) 为什么需要把PHP设置到系统环境变量中

答：为了全局使用php指令，为了后期在Laravel框架项目中方便使用php artisan工匠指令生成控制器文件等。

例如：

1.设置之前

![1538615896299](1538615896299.png)

2.设置之后

![1538616897264](1538616897264.png)

![1538616953422](1538616953422.png)

> 注意：
> ​	上图中的C:\phpStudy\PHPTutorial\php\php-7.2.1-nts路径是根据自己安装的PHP目录来设置；设置环境变量后，必须得**重新启动cmd(黑)窗口**。

#### (2) 测试是否设置成功

- 通过php -v 可以查看php版本号

![1538617008086](1538617008086.png)

- 通过php --ini 查看当前php的php.ini存放在哪个目录下

![1538617057064](1538617057064.png)

- 通过php -m 查看当前php环境已经开启的扩展

![1538617202769](1538617202769.png)

- 通过php -m | findstr mysql 查看当前php环境中是否开启了mysql扩展，如果要查询其他的扩展替换名称即可。与其他操作系统操作一致。

![1538617245674](1538617245674.png)

### 4、安装Laravel框架

Laravel框架为我们提供了三种安装方式分别为：源码安装、composer安装(推荐使用)、Laravel安装器

#### 4.1 源码安装

##### 4.1.1 下载源码

下载地址：http://laravelacademy.org/resources-download


##### 4.1.2 创建虚拟机

​	下载回来的一键安装包以后，直接使用phpstudy/wampserver/xamp/upupw或web开发环境中，创建虚拟主机，绑定本地域名，指向到项目中的public目录下即可。

创建虚拟主机

> 注意：
> ​	本示例以C:\web\php\php33路径为项目目录路径，存放项目目录路径得根据自己实际情况来。

将刚才下载回来Laravel框架代码解压到C:\web\php\php33目录中

![1545961967862](1545961967862.png)

![1545962103127](1545962103127.png)

接下来本地域名映射，把上面写的域名 添加到C:\Windows\System32\drivers\etc\hosts文件中

保存hosts文件以后，直接通过浏览器访问。如果出现以下界面，表示安装成功：

![1545962200844](1545962200844.png)

访问效果如下：

![1545962409386](1545962409386.png)

==有可能报以下错误：==

![1545962491893](1545962491893.png)

#### 4.2 composer安装(推荐使用)

composer是一个PHP的依赖 管理器，专门用于给我们安装和卸载项目、框架和插件(安装包)，类似于Linux操作系统的yum包管理器。借助composer我们可以找到适合的安装包和框架进行安装。

官网：http://www.getcomposer.org

中文：http://www.phpcomposer.com

中国镜像源：https://pkg.phpcomposer.com/  (推荐使用)

安装的时候要注意，因为composer的安装需要联网，同时连接的服务器在国外，所以存在很大的失败的可能性，有二种解决方案：

1. 多尝试几次

   ![1545963994439](1545963994439.png)

2. 安装方式

   ![1545963449197](1545963449197.png)

   ![1545963616932](1545963616932.png)

   ![1545963679902](1545963679902.png)

   ![1545963801011](1545963801011.png)

   成功如下图所示：

   ![1545963881001](1545963881001.png)


使用离线安装记得，务必把composer.bat和php路径设置到环境变量中。

##### 4.2.1 使用composer安装Laravel项目

设置镜像为中国镜像

```
composer config -g repo.packagist composer https://packagist.laravel-china.org
```

![1545964077345](1545964077345.png)

安装Laravel框架

```
composer create-project --prefer-dist  laravel/laravel  test 版本(*)
```

![1545964309394](1545964309394.png)

```
参数说明：
1. create-project	表示使用composer安装Laravel框架
2. --prefer-dist	表示下载安装使用压缩包方式下载，如果没有设置这个选项，默认情况下composer会源码复制的形式下载，这样会很慢。
3. laravel/laravel	软件名称，格式：开发者名称/项目名称
4. test(项目名称)	 表示把Laravel框架存储到当前目录下的test目录中
5. 版本号			 *表示最后一个版本，指定安装那个版本时使用
```

安装成功如下图所示：

![1545964605443](1545964605443.png)

==注意：有可能报以下错误==

![1545964376580](1545964376580.png)

使用artisan工匠指令快速运行Laravel项目

```
php artisan serve [--host][--port]
```

![1545965220454](1545965220454.png)

> 注意：
> ​	Laravel运行过程中，cmd命令行不能关闭，否则无法访问
> ​	还有artisan是一个php代码的文件，所以以上命令必须在Laravel项目的根目录中运行
> ​	--host 指定绑定的域名，默认为127.0.0.1
> ​	--port 表示监听端口，默认为8000
> ​	例如：需要指定端口为8080
> ​	php artisan serve --port=8080

直接通过浏览器访问。如果出现以下界面，表示安装成功：

![1545964792599](1545964792599.png)

#### 4.3 Laravel安装器

##### 4.3.1 安装Laravel安装器

```
composer global require "laravel/installer"
```

![1545965373662](1545965373662.png)

> 注意：
> ​	确保 ~/.composer/bin在系统路径[环境变量]中，否则不能在任意路径调用Laravel命令。执行命令以后的话，就是我们的Laravel的家目录。
> ​	[~表示家目录，window下的家目录：C:\Users\你的帐号\AppData\Roaming\Composer\vendor\bin，把这个地址设置到系统环境变量中]
>
> ![1545965545951](1545965545951.png)

安装完成后，通过简单的Laravel new命令即可在当前目录下创建一个新的Laravel应用，例如：laravel new blog将会创建一个名为blog的新应用，且包含所有Laravel依赖。该安装方法比通过composer安装要快很多。

```
laravel new blog
```

![1545966292226](1545966292226.png)

安装如下图所示：

![1545966349737](1545966349737.png)

> 为什么不用 laravel/installer ？
>
> laravel/installer 工具在创建项目的时候需要从 laravel 官网（国外）下载 laravel.zip
> 压缩包，速度慢、随时可能被墙，而且下载地址是写死到 installer 工具中的，不能配置，使用的时候出问题无法解决。

## 六、Laravel-目录结构

Laravel是一个比较大的框架，里面的目录文件非常多。

```HTML
|- .env	本地开发环境的配置文件【配置文件】
|- app/	应用目录，项目应用程序主要存放目录[相当于ThinkPHP框架的appcation目录]
	|- Http/	应用的Http请求处理都在这里进行
		|-Controllers/	控制器存储目录【控制器】
	|- Models/	模型存储目录[Laravel5.0版本以后去掉models目录，我们加上即可]
|- config/	配置文件存储目录[项目上线时修改这里的配置，开发阶段时修改.env中的配置]
	|- app.php	系统核心配置文件
	|- database.php	数据库配置文件
|- public/	系统的唯一访问入口，存放所有对外开放的资源目录，如css、js以及img等
	|- index.php	访问入口文件
|- resources/		资源文件存储目录
	|- views/	blade模板文件存储目录【视图】
|- routes/	路由文件存储目录
	|- web.php	主路由文件【路由文件】
|- storage/	临时文件存储目录，存放session、缓存之类的临时文件，包含渲染后的模板文件
	|- framework/	框架生成的文件及缓存文件存储目录
		|- sessions/	session数据存储目录
		|- views/	模板缓存目录【视图】
|- vendor/	Laravel源代码和第三方依赖包存储目录
|- artisan	工匠指令，是命令行工具，在app/Console/Commands下编写自定义命令
|-server.php	入口文件[使用artisan serve命令时的入口目录]
```

> 注意：关于更多的工匠指令请查看资料中的 2-Laravel目录结构.txt 文件

## 七、配置智能提示插件(只能对IDE编辑器有效)

https://packagist.org/packages/barryvdh/laravel-ide-helper

### 1、下载插件

```cmd
composer require barryvdh/laravel-ide-helper ^2.4.3
```

![1545967929820](1545967929820.png)

安装的过程当中会报以下错误：

![1545967688311](1545967688311.png)

### 2、配置config/app.php

```php
'providers' => [
    // ...
    Barryvdh\LaravelIdeHelper\IdeHelperServiceProvider::class,
],
```

![1545968061984](1545968061984.png)

### 3、生成_ide_helper.php文件

```cmd
php artisan ide-helper:generate
```

![1545968107784](1545968107784.png)

## 八、Laravel-工匠指令

​	工匠指令【artisan】可以让我们通过命令行来自动完成简单而重复的工作，让我们减少时间成本，提高开发效率。

可以快速的帮我们生成控制器、模型等，文件的生成、缓存、模板的清除工作。

常用命令：

1. 启动项目

   php artisan serve

   ​	--port 设置测试服务器的监听端口

   ​	--host 设置访问域名，注意：指定的域名一定在hosts文件设置

2. 创建控制器

   php artisan make:controller Admin\AdminController

   ​	--resource 创建资源控制器
   ![1545968582060](1545968582060.png)

   ![1545968648195](1545968648195.png)

3. 创建模型

   php artisan make:model  Models\Admin

   ![1545968870008](1545968870008.png)

4. 查看路由列表

   php artisan route:list

   ![1545969161034](1545969161034.png)

5. 清除项目缓存文件

   php artisan cache:clear

6. 清除视图编译文件

   php artisan view:clear

### 1、生成控制器

在Laravel中，我们可以通过artisan快速生成控制器，Laravel中的控制器有两种：

1. 一般控制器，适合使用在项目的前台，默认不提供任何的操作方法
2. 资源控制器，适合使用在项目的后台，默认提供了7个操作方法，用于进行对数据表增删改查。因为符合接口编程的restFul规范，所以也被称为"restFul控制器"。

#### 1.1 生成一般(普通)控制器

```
语法： php artisan make:controller  目录\控制器类名
```

![1545969264722](1545969264722.png)

> 注意：
> ​	控制器类名，建议采用驼峰法，每个单词首字母大写；以"Controller"结尾
> ​	例如： AdminController

#### 1.2 生成资源控制器

```
语法：php artisan make:controller  目录\控制器类名  --resource
```

![1545969321632](1545969321632.png)

### 2、生成模型

​	我们使用的Laravel5.4版本，所以默认不会有Models目录，所以我们可以约定把所有的模型都保存在app\Models目录。

```
语法：php artisan make:model [目录\]模型类名
```

![1545969381917](1545969381917.png)

> 注意：
> ​	模型的类名建议使用表名作为模型名称，采用驼峰法，每个单词首字母大写，如果出现表名中存在下划线，则去掉下划线。
> ​	例如：表名为 member_proession 则模型名称：MemberProfession
>
> ==控制器命名规则：控制器名+Controller.php 例如：AdminController.php==
>
> ==模型命名规则：模型名.php	例如：Admin.php==

## 九、控制器

在Laravel框架中控制器有2种，分别是一般控制器和资源控制器；2种控制器主要通过artisan工具中生成时不一样而已，其他没有什么不同。

### 1、创建普通控制器

一般控制器语法如下：

```
php artisan make:controller [目录\]控制器名

例如：php artisan make:controller Admin\UserController
```

> 注意：使用artisan工具生成控制器时控制器名是不需要带后缀( .php )

### 2、创建资源控制器

资源控制器语法如下：

```
php artisan make:controller [目录\]控制器名 --resource

例如：php artisan make:controller Admin\UserController --resource
```

> 注意：使用artisan工具生成控制器时控制器名是不需要带后缀( .php )

## 十、Laravel-路由

### 1、什么是路由

```
就是把uri地址和对应的应用程序进行一一绑定，形成一种映射关系，这个过程就是路由。
url：http://域名/目录/文件?参数
uri：域名+uri地址 // http://www.php33.com/admin/index   /admin/index === uri
uri地址指的就是去掉域名后，剩下的末尾部分
```

### 2、路由的本质

```
接收用户发送过来的uri请求，然后根据事先定义好的路由规则，转发给对应的应用程序。
路由规则：事先把uri地址和应用程序进行绑定的映射关系表，就是路由规则。
```

在使用Laravel开发项目的时候，路由是非常重要的。

```
Laravel提供了一个Route(路由操作类)供我们声明路由规则，我们只有声明了路由规则，用户才能够访问到我们创建的控制器或视图。

我们的路由规则，必须写在Routes/web.php或者api.php文件中，不过要注意，在Laravel5.2以前，路由规则统一写在app/Http/routes.php文件中。
如果写在api.php中的规则，则需要在域名后面跟着/api/才能访问。
```

Laravel提供的这个Route类提供了多不同的http请求，而设置的路由方法，这些方法都是用来接收不同的http请求方法的uri地址

```php
常用的路由方法：
Route::get();		专门用来接收http的get请求，用于获取数据
Route::post();		专门用来接收http的post请求，用于添加数据
Route::put();		专门用来接收http的put请求，用于更新数据
Route::delete();	专门用来接收http的delete请求，用于删除数据
```

使用csrf令牌发送post表单数据，代码如下：

![1545979791404](1545979791404.png)



效果如下：

![1545979814364](1545979814364.png)

使用表单方法伪造发送一些HTML表单不支持的http请求。例如：put或delete代码如下：

![1545980351959](1545980351959.png)

效果如下：

![1545980114191](1545980114191.png)

![1545980019500](1545980019500.png)

### 3、路由分两种

![1545980880939](1545980880939.png)

1. 匿名函数路由，因为后面的参数是匿名函数而得名。

```
语法：Route::match($methods, $uri, $callback)

参数说明：
	$methods	请求类型，例如：post、get
	$uri		uri地址，例如：/admin/user
	$callback	匿名函数
```

2. 控制器路由， 主要是因为后面的参数是一个字符串，表示对应控制器或控制器与方法。

```
语法：Route::get($uri, $string)

参数说明：
	$uri		uri地址，例如：/admin/user
	$string		[命名空间/]控制器/方法，例如："Admin\UserController@index"
```

注意：

​	定义路由时，第二个参数为匿名函数时，这个路由为匿名路由

​	定义路由时，第二个参数为控制器时，这个路由为控制器路由

### 4、match路由

match被称为"匹配路由"，用于限制当前路由只允许被指定的请求方式所访问。

```
语法：Route::match($methods, $uri, $callback)

参数说明：
	$methods	请求类型，例如：['post', 'get']
	$uri		uri地址，例如：/admin/user
	$callback	匿名函数
```

代码如下：

路由代码：

![1545981364228](1545981364228.png)

控制器代码：

![1545981413164](1545981413164.png)

效果如下：

![1545981322157](1545981322157.png)

### 5、any路由

any被称为“任意路由”，运行当前uri地址可以通过任意一种http请求进行访问。

```
语法：Route::any($uri, $callback)

参数说明：
	$uri		uri地址，例如：/admin/user
	$callback	匿名函数
```

代码如下：

路由代码：

![1545981602298](1545981602298.png)

控制器代码：

![1545981630903](1545981630903.png)

效果如下：

![1545981642320](1545981642320.png)

### 6、路由参数

有时候会在uri地址里面设置一些参数，用于传递给控制器方法。我们怎么接收这些参数呢？

接下来我们学习一下Laravel的路由参数。

Laravel路由参数有2种，分别为可选参数和必填参数。

#### 6.1 必填参数

代码如下：

```php
<?php
    //路由的必填参数
    //格式：{参数名称}
    Route::get('/user/{id}-{phone}', function($user, $phone){
        dump('参数是：'.$user);
        dump('参数是：'.$phone);
    })->where('id', '\d{2}')->where('phone', '\d{11}');
	//使用where方法可以对指定参数的值进行正则过滤
```

![1545982988130](1545982988130.png)

![1545983013668](1545983013668.png)

我们可以通过==where==对参数的值进行正则过滤，如果正则过滤的时候匹配不上，则Route类会自动拿后面的路由和用户请求的uri地址进行匹配，如果都不成功，则报NOTFOUND，404找不到错误。

在Laravel中，路由的匹配都先写的先匹配，后写的后匹配。

#### 6.2 可选参数

代码如下：

```php
<?php
    //路由的可选参数
    //格式：{参数名称?}
    //注意：写可选参数的时候，匿名函数或控制器方法中的对应的参数需要设置默认值为null
    Route::get('goods/{cata}/{gid?}', function($cata, $gid = null){
        dump($cata);
        dump($gid);
    })->where('cate', '\d+')->where('gid','\d+');
```

![1545983473741](1545983473741.png)

![1545983485036](1545983485036.png)

> 注意：
> ​	在设置可选参数的时候，必须保证我们对应的控制器方法或匿名函数中对应的参数设置默认值为空，否则有可能报错。

### 7、路由群组

​	专门用来划分路由，让具有共同特征的路由划分在一起，以达到简写的效果，同时也可以对项目进行模块划分。

```
语法：Route::group($array, $callback)

路由群组提供了四种简写方式：
1. middleware(中间件、用于验证权限、登录状态等)
2. prefix(地址前缀)
3. namespace(命名空间)
4. domain(域名)
```

代码如下：

```PHP
<?php
    //在Laravel中可以使用路由群组进行模块的划分
    //后台
    Route::group(['namespace'=>'Admin', 'prefix'=>'admin'], function(){
        Route::get('admin', 'IndexController@index');
        Route::get('member', 'IndexController@left');
    });

	//前台
    Route::group(['namespace'=>'Home'], function(){
        Route::get('member/login', 'UserController@index');
    });
```

效果如下图所示：

控制器的代码：

![1545984213859](1545984213859.png)

路由代码：

![1545984183225](1545984183225.png)

效果如下：

![1545984234074](1545984234074.png)

##  十一、视图

在Laravel中视图文件都是保存在resources/views/目录下，而我们的页面静态资源都是保存在public目录下。

Laravel中的视图都是以"视图名称.blade.php"为文件名。

Laravel框架中的模板有两种：

普通模板：直接以"视图名称.php"为模板文件名，这种模板不支持使用Laravel内置的blade模板引擎的语法，只支持PHP原生语法，当然效率高点。

blade模板：直接以"视图名称.blade.php"为模板文件名，这种模板支持使用Laravel内置的blade模板引擎的语法。

> 注意：当视图目录中出现2套同名的模板时，优先加载的是blade模板。

### 1、控制器中载入模板

```PHP
语法： return view('视图目录/视图名称');
```

### 2、普通模板

控制器代码如下所示：

```php
public function index(){
    return view('index')->with('title', '我是页面标题');
}
```

控制器代码如下所示：

![1545984562210](1545984562210.png)

视图代码如下所示：

![1545984588655](1545984588655.png)

路由地址如下所示：

![1545984616638](1545984616638.png)

效果如下所示：

![1545984626533](1545984626533.png)

> 注意：
>
> ​	Laravel框架的模板文件后缀必须是：*.blade.php；否则模板中的变量无法解析。

![1545984745591](1545984745591.png)

![1545984769349](1545984769349.png)

![1545984777701](1545984777701.png)

### 3、对模板进行赋值

```
在控制器中对模板进行赋值，有2种方式分别为：with、view函数第二个参数赋值
```

#### 3.1 使用with方法赋值

```
语法：view('视图名称')->with('变量名', '变量值')->with('变量名', '变量值')......
```

控制器代码如下所示：

![1545985118102](1545985118102.png)

视图代码如下所示：

![1545985153368](1545985153368.png)

效果如下所示：

![1545985167244](1545985167244.png)

#### 3.2 使用view第二个参数赋值

```
语法：view('视图名称', $array);

参数说明：
	$array 数组，要赋值到视图中的数据，每个成员的下标在视图中就是变量名。
```

控制器代码如下所示：

![1545985382949](1545985382949.png)

视图代码如下所示：

![1545985408886](1545985408886.png)

效果如下：

![1545985419462](1545985419462.png)

## 十二、blade(模板)语法

### 1、直接输出标题类型的数据

```PHP
语法： { { 变量名 } }
```

### 2、输出HTML代码

```html
默认情况下，为了防止网站遭到XSS攻击，Laravel默认会把所有的具有代码性的内容全部进行实体字符转义。这种转义会有时候导致我们要输出的内容，达不到我们要的效果。
例如：一段经过富文本编辑器排版的图文。
```

PHP代码如下图所示：

![1545986483560](1545986483560.png)

视图代码如下图所示：

![1545986452382](1545986452382.png)

结果如下图所示：

![1545986393701](1545986393701.png)

> 注意：
>
> ​	如果真的要输出HTML原生的代码数据，则需要使用{!! 变量名 !!}
>
> ​	在Laravel的blade模板中，我们可以使用原生的PHP函数，也可以直接写PHP原生代码。

### 3、注释

```PHP
语法：{ {-- 需要注释的内容 --} }
```

> 注意：
>
> ​	在Laravel的blade模板中对{ {变量名} }内容不能直接使用HTML代码注释语法，否则还会自动解析

视图代码如下图所示：

![1545986700039](1545986700039.png)

效果如下图所示：

![1545986714024](1545986714024.png)

![1545986759936](1545986759936.png)

### 4、循环语句

```PHP
语法：
    @foreach($data as $key => $value)
    	//循环体的内容
    @endforeach
```

举例说明：

PHP代码如下图所示：

![1545987380522](1545987380522.png)

视图代码如下图所示：

![1545987418289](1545987418289.png)

路由代码如下所示：

![1545987451337](1545987451337.png)

效果如下图所示：

![1545987460394](1545987460394.png)

### 5、判断语句

#### 5.1 单分支判断

```PHP
语法：
    @if(条件表达式)
    	//输出的内容
    @endif
```

举例说明：

视图代码如下图所示：

![1545987603461](1545987603461.png)

效果如下图所示：

![1545987617344](1545987617344.png)

#### 5.2 多分支判断

```PHP
语法：
    @if(条件表达式1)
    	//内容1
    @elseif(条件表达式2)
    	//内容2
    @elseif(条件表达式n)
    	//内容n
    @endif
```

举例说明：

PHP代码如下图所示：

![1545988050199](1545988050199.png)

视图代码如下图所示：

![1545988077303](1545988077303.png)

效果如下图所示：

![1545988086949](1545988086949.png)

### 6、原样输出

```PHP
语法：@{ { 变量名 } }
```

> 注意：
>
> ​	在双大括号前面加上@符号，是告诉blade模板不做任何解析，直接输出该内容即可

视图代码如下图所示：

![1545988205972](1545988205972.png)

效果如下图所示：

![1545988224899](1545988224899.png)

### 7、默认值

```PHP
语法：{ { 变量名 or 默认内容 } }
```

> 注意：
>
> ​	默认值只对未定义的变量生效。

视图代码如下图所示：

![1545988466025](1545988466025.png)

效果如下图所示：

![1545988480515](1545988480515.png)

## 十三、总结

安装Laravel框架有几种方式？

答：3种

​	源码安装、composer、Laravel安装器

使用安装cpmposer

​	2种

​	下载.exe文件安装，使用php去下载

Laravel工匠指令

```
创建控制器：php artisan make:controller [目录\]控制器的名称  // 注意：不需要带后缀(.php)
创建模型：php artisan make:model [目录\]模型名称
运行项目：php artisan serve
查看路由列表：php artisan route:list
```

Laravel路由

​	匿名路由：带着一个回调函数

​	控制器路由：带着控制器名称

视图/模板

​	2种

​	普通模板：后缀为.php

​	blade模板：后缀.blade.php

分配变量有几种方式？

​	2种

​	可能通过view()方法第二个参数传参

​	with()方法

Laravel注释方法

​	{ {-- 注释内容 --} }

输出html代码，不想转义采用什么方法？

​	{!! 输出html内容，并不转义 !!}

遍历输出内容：

​	@foreach()

​	......

​	@endforeach

条件判断

​	@if(条件表达式)

​	@endif

​	@if(条件表达式1)

​		条件表达式1的内容

​	@elseif(条件表达式2)

​		条件表达式2的内容

​	@else

​		else的内容

​	@endif

默认值

​	{ { 变量名 or '默认值' } }

原样输出

​	@{ { [变量名] } }